<div class="bookings-container">
  <!-- Header with title -->
  <mat-toolbar class="bookings-header">
    <div class="header-content">
      <div class="title-section">
        <mat-icon class="header-icon">hotel</mat-icon>
        <h1>SpringAI Hotel Bookings</h1>
        <button (click)="refreshBookings()"
                class="refresh-button"
                mat-icon-button
                matTooltip="Refresh bookings data">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </div>
  </mat-toolbar>

  <!-- Data Table Card -->
  <mat-card class="table-card">
    <mat-card-content>
      <div class="table-container">
        <table [dataSource]="dataSource()" class="bookings-table" mat-table matSort>

          <!-- Booking Number Column -->
          <ng-container matColumnDef="bookingNumber">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Number</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="booking-number">{{ booking.bookingNumber }}</span>
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Name</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="guest">{{ booking.firstName }} {{ booking.lastName }}</span>
            </td>
          </ng-container>

          <!-- Date Column -->
          <ng-container matColumnDef="date">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Booking Date</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="date-cell">{{ booking.date | date:'MMM d, y' }}</span>
            </td>
          </ng-container>

          <!-- Status Column -->
          <ng-container matColumnDef="bookingStatus">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Status</th>
            <td *matCellDef="let booking" mat-cell>
              <mat-chip
                [class]="'status-' + booking.bookingStatus.toLowerCase()"
                selected>
                {{ booking.bookingStatus }}
              </mat-chip>
            </td>
          </ng-container>

          <!-- From Column -->
          <ng-container matColumnDef="from">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>From</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="date-cell">{{ booking.from | date:'MMM d, y' }}</span>
            </td>
          </ng-container>

          <!-- To Column -->
          <ng-container matColumnDef="to">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>To</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="date-cell">{{ booking.to | date:'MMM d, y' }}</span>
            </td>
          </ng-container>

          <!-- Booking Class Column -->
          <ng-container matColumnDef="roomType">
            <th *matHeaderCellDef mat-header-cell mat-sort-header>Room Type</th>
            <td *matCellDef="let booking" mat-cell>
              <span class="room-class">{{ booking.roomType }}</span>
            </td>
          </ng-container>

          <tr *matHeaderRowDef="displayedColumns()" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns()" mat-row></tr>
        </table>

        <!-- No data message -->
        @if (bookings().length === 0) {
          <div class="no-data">
            <mat-icon class="no-data-icon">inbox</mat-icon>
            <h3>No bookings found</h3>
          </div>
        }
      </div>
    </mat-card-content>
  </mat-card>
</div>
